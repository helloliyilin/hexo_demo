---
title: C语言笔试笔记
date: 2023-03-03 23:10:48
tags: 学习
---

1. 请定义一个宏，比较两个数a、b的大小，不能使用大于、小于、if语句。

  ```C
  #define MAX(A,B) (((A)-(B))>>31 ? (B) : (A))
  ```

2. 如何输出源文件的标题和目前执行行的行数。

   ```c++
   int line = __LINE__;
   
   char *file = __FILE__;
   
   cout<<"file name is "<<(file)<<",line is "<
   ```

3. 请说出const与#define 相比，有何优点?
   + Const作用：定义常量、修饰函数参数、修饰函数返回值三个作用。被const修饰的东西都受到**强制保护**，可以预防意外的变动，能提高程序的健壮性。
   + const 常量有数据类型，而宏常量没有数据类型。编译器可以对前者进行**类型安全检查**。而对后者只进行**字符替换**，没有类型安全检查，并且在字符替换可能会产生意料不到的错误。
   + 有些集成化的调试工具可以对const 常量**进行调试**，但是不能对宏常量进行调试。

4. 简述数组与指针的区别？

   （1）数组要么在静态存储区被创建（如全局数组），要么在栈上被创建。指针可以随时指向任意类型的内存块。

   ```C
         char a[] = “hello”;
         a[0] = ‘X’;
         char *p = “world”; // 注意p 指向常量字符串
         p[0] = ‘X’; // 编译器不能发现该错误，运行时错误
   				  //因为常量常量字符串分配在常量区，它的内容不允许被改写。
   ```

   

   （2）用运算符sizeof 可以计算出数组的容量（字节数）。sizeof(p),p 为指针得到的是一个 指针变量的字节		数，而不是p 所指的内存容量。C++/C 语言没有办法知道指针所指的内存容量，除非在申请内存时记住		它。注意当数组作为函数的参数进行传递时，该数组自动退化为同类型的指针。

5. switch()的参数类不能为浮点型。
6. 列举几种进程的同步机制，并比较其优缺点。
   原子操作、信号量机制、自旋锁、管程、会合、分布式系统（不懂，没学过）

7. static关键字有下列作用：

   (1) 函数体内static变量的作用范围为该函数体，该变量的内存为静态存储区，并且其值只初始化1次；
   (2) 在模块内的static全局变量可以被模块内所用函数访问，但不能被模块外其它函数访问；
   (3) 在模块内的static函数只可被这一模块内的其它函数调用，这个函数的使用范围被限制在声明它的模块内；

8. const关键字有下列作用：

   (1) 欲阻止一个变量被改变，可以使用const关键字。在定义该const变量时，通常需要对它进行初始化，因为以后就没有机会再去改变它了；

   (2) 对指针来说，可以指定指针本身为const，也可以指定指针所指的数据为const，或二者同时指定为const；
   (3) 在一个函数声明中，const可以修饰形参，表明它是一个输入参数，在函数内部不能改变其值；